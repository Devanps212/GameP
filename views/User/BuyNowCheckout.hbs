<!DOCTYPE html>
<html lang="en">
<!-- Basic -->
<style>
  /* Style for the Available Coupons button */
  #showCouponBtn {
    background-color: #007bff;
    color: white;
    padding: 10px 20px;
    border: none;
    cursor: pointer;
    margin-bottom: 10px; /* Add margin to create space below the button */
  }

  /* Center the button horizontally */
  #showCouponBtn {
    display: block;
    margin: 0 auto;
    margin-left: 88px;
  }
  .navbar-nav .nav-item.active a.nav-link {
        color: #b0b435!important;
    }

  /* Style for the coupon table */
  table {
    width: 100%;
    border-collapse: collapse;
  }

  th, td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: left;
  }

  th {
    background-color: #f2f2f2;
  }

  /* Style for the Copy button */
  .copy-button {
    background-color: #28a745;
    color: white;
    border: none;
    padding: 5px 10px;
    cursor: pointer;
  }

  .copy-button:hover {
    background-color: #218838;
  }

  /* Style for the Apply Coupon button */
  #couponApply {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 10px 20px;
    cursor: pointer;
  }

  #couponApply:hover {
    background-color: #0056b3;
  }

  /* Style for the Close button */
  #closeCouponBtn {
    background-color: #dc3545;
    color: white;
    border: none;
    padding: 10px 20px;
    cursor: pointer;
    margin-top: 10px;
  }

  #closeCouponBtn:hover {
    background-color: #c82333;
  }

  /* Center the coupon input and Apply button */
  #couponCode,
  #couponApply {
    display: block;
    margin: 0 auto;
    width: 13rem;
    margin-top: 8px;
    margin-left: 89px;
  }

  /* Center the Close button */
  #closeCouponBtn {
    display: block;
    margin: 0 auto;
  }
</style>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- Mobile Metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Site Metas -->
    <title>GAMPro</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Site Icons -->
    <link rel="shortcut icon" href="/Pictures/images/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="/Pictures/images/apple-touch-icon.png">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/CSS/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Site CSS -->
    <link rel="stylesheet" href="/CSS/css/style.css">
    <!-- Responsive CSS -->
    <link rel="stylesheet" href="/CSS/css/responsive.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/CSS/css/custom.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>
       
        .button-link {
    display: inline-block;
    padding: 10px 20px; /* Adjust padding as needed */
    background-color: #007bff; /* Change the background color */
    color: #fff; /* Change the text color */
    text-decoration: none;
    border: 1px solid #007bff; /* Add a border */
    border-radius: 5px; /* Add rounded corners */
    font-weight: bold;
    transition: background-color 0.3s ease; /* Add a smooth transition effect */
}

.button-link:hover {
    background-color: #0056b3; /* Change the background color on hover */
    border: 1px solid #0056b3; /* Change the border color on hover */
}
.dropdown {
    position: relative;
    display: inline-block;
}

/* Style for the button that opens the dropdown */
.dropdown-button {
    background-color: #3498db;
    color: #fff;
    border: none;
    padding: 10px;
    cursor: pointer;
    border-radius: 5px;
    transition: background-color 0.3s;
}

/* Add hover effect for the button */
.dropdown-button:hover {
    background-color: #2980b9;
}

/* Style for the dropdown options */
.dropdown-options {
    position: absolute;
    list-style: none;
    padding: 0;
    margin: 0;
    display: none;
    background-color: #fff;
    border: 1px solid #ccc;
    border-radius: 5px;
    opacity: 0;
    transform: scaleY(0);
    transform-origin: top;
    transition: opacity 0.3s, transform 0.3s;
    z-index: 10;
    min-width: 100px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* Style for each option */
.dropdown-options li {
    padding: 10px 15px;
    border-bottom: 1px solid #ccc;
    background: rgb(255,255,255);
    background: linear-gradient(191deg, rgba(255,255,255,1) 0%, rgba(210,210,210,1) 49%, rgba(255,250,250,1) 100%);
    font-family: sans-serif;
}

/* Show the options when the button is clicked */
.dropdown.active .dropdown-options {
    display: block;
    opacity: 1;
    transform: scaleY(1);
}

/* Add a nice fade-in effect for the options */
.dropdown-options li {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
}

/* Show the options with a fade-in effect */
.dropdown.active .dropdown-options li {
    opacity: 1;
    transform: translateY(0);
}
</style>

</head>

<body>
    <!-- Start Main Top -->
    <div class="main-top">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                    <div class="right-phone-box">
                        <p>Call US :- <a href="#"> +11 900 800 100</a></p>
                    </div>
                    <div class="our-link">
                        <ul>
                            <li><a href="/Account"><i class="fa fa-user s_color"></i> My Account</a></li>
                            <li><a href="/contactUs"><i class="fas fa-headset"></i> Contact Us</a></li>
                        </ul>
                    </div>
                </div>
                 <div class="login-box">
                 {{#if ifAuthenticated}}
                    <a href="/logout" class="btn btn-primary">SignOut</a>
                          {{else}}
                              <div class="login-box">
                                  <div class="dropdown">
                                      <button class="dropdown-button">Login or signUp</button>
                                      <ul class="dropdown-options">
                                          <li><a href="/login">Login</a></li>
                                          <li><a href="/signin">Signup</a></li>
                                      </ul>
                                  </div>
                              </div>
                          {{/if}}
              </div>
            </div>
        </div>
    </div>
    <!-- End Main Top -->

    <!-- Start Main Top -->
    <header class="main-header">
        <!-- Start Navigation -->
        <nav class="navbar navbar-expand-lg navbar-light bg-light navbar-default bootsnav">
            <div class="container">
                <!-- Start Header Navigation -->
                <div class="navbar-header">
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbars-rs-food" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fa fa-bars"></i>
                </button>
                    <a class="navbar-brand" href="/"><img src="/Pictures/gampro-high-resolution-color-logo.png" class="logo" alt="" style="display:flex; justify-content:center; align-items:center;border-radius: 53px; width:102px;"></a>
                </div>
                <!-- End Header Navigation -->

                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="navbar-menu">
                    <ul class="nav navbar-nav ml-auto" data-in="fadeInDown" data-out="fadeOutUp">
                        <li class="nav-item active"><a class="nav-link" href="/">Home</a></li>
                        <li class="nav-item"><a class="nav-link" href="/aboutus">About Us</a></li>
                        <li class="dropdown active">
                            <a href="#" class="nav-link dropdown-toggle arrow" data-toggle="dropdown">SHOP</a>
                            <ul class="dropdown-menu">
								<li><a href="/ewallet">E-Wallet</a></li>
								<li><a href="/products">Games</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#" class="nav-link dropdown-toggle arrow" data-toggle="dropdown">Category</a>
                            <ul class="dropdown-menu" style="background-color:black;">
								<li ><a style="color: darkgrey;" href="/openworld">Open World</a></li>
								<li ><a style="color: darkgrey;" href="/FPS">FPS</a></li>
                                <li ><a style="color: darkgrey;" href="/racing">Racing</a></li>
                                {{!-- <li><a href="checkout.html">Checkout</a></li>
                                <li><a href="my-account.html">My Account</a></li>
                                <li><a href="wishlist.html">Wishlist</a></li> --}}
                            </ul>
                        </li>
                         
                        <li class="nav-item"><a class="nav-link" href="/wishlists">Wish List</a></li>
                        
                    </ul>
                </div>
                <!-- /.navbar-collapse -->

                <!-- Start Atribute Navigation -->
                <div class="attr-nav">
                    <ul>
                        <li class="search"><a href="#"><i class="fa fa-search"></i></a></li>
                        <li class="side-menu"><a href="/cart">
						<i class="fa fa-shopping-bag"></i>
                            <span class="badge">{{cartNumber}}</span>
							<p>My Cart</p>
					</a></li>
                    </ul>
                </div>
                <!-- End Atribute Navigation -->
            </div>
            <!-- Start Side Menu -->
            <div class="side">
                <a href="#" class="close-side"><i class="fa fa-times"></i></a>
                <li class="cart-box">
                    <ul class="cart-list">
                        <li>
                            <a href="#" class="photo"><img src="images/img-pro-01.jpg" class="cart-thumb" alt="" /></a>
                            <h6><a href="#">Delica omtantur </a></h6>
                            <p>1x - <span class="price">$80.00</span></p>
                        </li>
                        <li>
                            <a href="#" class="photo"><img src="images/img-pro-02.jpg" class="cart-thumb" alt="" /></a>
                            <h6><a href="#">Omnes ocurreret</a></h6>
                            <p>1x - <span class="price">$60.00</span></p>
                        </li>
                        <li>
                            <a href="#" class="photo"><img src="images/img-pro-03.jpg" class="cart-thumb" alt="" /></a>
                            <h6><a href="#">Agam facilisis</a></h6>
                            <p>1x - <span class="price">$40.00</span></p>
                        </li>
                        <li class="total">
                            <a href="#" class="btn btn-default hvr-hover btn-cart">VIEW CART</a>
                            <span class="float-right"><strong>Total</strong>: $180.00</span>
                        </li>
                    </ul>
                </li>
            </div>
            <!-- End Side Menu -->
        </nav>
        <!-- End Navigation -->
    </header>
    <!-- End Main Top -->

    <!-- Start Top Search -->
    <div class="top-search">
        <div class="container">
            <div class="input-group">
                <span class="input-group-addon"><i class="fa fa-search"></i></span>
                <input type="text" class="form-control" placeholder="Search">
                <span class="input-group-addon close-search"><i class="fa fa-times"></i></span>
            </div>
        </div>
    </div>
    <!-- End Top Search -->

    <!-- Start All Title Box -->
    <div class="all-title-box">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h2>Checkout</h2>
                    <ul class="breadcrumb">
                        <li class="breadcrumb-item"><a href="#">Shop</a></li>
                        <li class="breadcrumb-item active">Checkout</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!-- End All Title Box -->

    <!-- Start Cart  -->
    <div class="cart-box-main">
        <div class="container">
            <div class="row new-account-login">
                <div class="col-sm-6 col-lg-6 mb-3">
                    <div class="title-left">
                        <h3>Account Login</h3>
                    </div>
                    <h5><a data-toggle="collapse" href="#formLogin" role="button" aria-expanded="false">Click here to Login</a></h5>
                    <form class="mt-3 collapse review-form-box" id="formLogin">
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="InputEmail" class="mb-0">Email Address</label>
                                <input type="email" class="form-control" id="InputEmail" placeholder="Enter Email"> </div>
                            <div class="form-group col-md-6">
                                <label for="InputPassword" class="mb-0">Password</label>
                                <input type="password" class="form-control" id="InputPassword" placeholder="Password"> </div>
                        </div>
                        <button type="submit" class="btn hvr-hover">Login</button>
                    </form>
                </div>
                <div class="col-sm-6 col-lg-6 mb-3">
                    <div class="title-left">
                        <h3>Create New Account</h3>
                    </div>
                    <h5><a data-toggle="collapse" href="#formRegister" role="button" aria-expanded="false">Click here to Register</a></h5>
                    <form class="mt-3 collapse review-form-box" id="formRegister">
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="InputName" class="mb-0">First Name</label>
                                <input type="text" class="form-control" id="InputName" placeholder="First Name"> </div>
                            <div class="form-group col-md-6">
                                <label for="InputLastname" class="mb-0">Last Name</label>
                                <input type="text" class="form-control" id="InputLastname" placeholder="Last Name"> </div>
                            <div class="form-group col-md-6">
                                <label for="InputEmail1" class="mb-0">Email Address</label>
                                <input type="email" class="form-control" id="InputEmail1" placeholder="Enter Email"> </div>
                            <div class="form-group col-md-6">
                                <label for="InputPassword1" class="mb-0">Password</label>
                                <input type="password" class="form-control" id="InputPassword1" placeholder="Password"> </div>
                        </div>
                        <button type="submit" class="btn hvr-hover">Register</button>
                    </form>
                </div>
            </div>
            <form id="formPart">
    <div class="row">
        <div class="col-sm-6 col-lg-6 mb-3">
            <div class="checkout-address">
                <div class="title-left">
                    <h3>Billing address</h3>
                </div>
                
                <h2>Select an Address:</h2>
                {{#each user.address}}
                <label>
                    <input type="radio" name="selectedAddress" value="{{this._id}}" required>
                    {{this.name}}, {{this.address}}, {{this.city}}, {{this.district}},
                    {{this.state}}, {{this.landmark}},
                    {{this.pincode}},
                    {{this.mobile}}
                </label>
                <br>
                {{/each}}
                
                <a href="/addAddress" class="button-link">
                    <i class="fa fa-location-arrow"></i> Add Address
                </a>
                
                <hr class="mb-4">
                <div class="row my-5">
                            <div class="col-lg-6 col-sm-6">
                                <div class="coupon-box">
                                    <div class="input-group input-group-sm">
                                        <button id="showCouponBtn" >Available Coupons</button>
                                            <div id="couponCard" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: white; padding: 20px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.3); z-index: 999;">
                                            <table>
                                                <thead>
                                                    <tr>
                                                        <th>Coupon Code</th>
                                                        <th>Validity</th>
                                                        <th>Minimum Purchase</th>
                                                        <th>Minimum Discount</th>
                                                        <th>Maximum Dicount value</th>
                                                        <th>Description</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    {{#each coupons}}
                                                    <tr>
                                                        <td>{{this.couponCode}}<button class="copy-button" data-coupon="{{this.couponCode}}">Copy</button></td>
                                                        <td>{{this.validity}}</td>
                                                        <td>{{this.minPurchase}}</td>
                                                        <td>{{this.minDiscountPercentage}}</td>
                                                        <td>{{this.maxDiscountValue}}</td>
                                                        <td>{{this.description}}</td>
                                                    <!-- Add more coupons as needed -->
                                                    {{/each}}
                                                </tbody>
                                            </table>
                                            
                                            <button id="closeCouponBtn">Close</button>
                                        </div>

                                        <input class="form-control" placeholder="Enter your coupon code" id="couponCode" aria-label="Coupon code" type="text">
                                        <div class="input-group-append">
                                            <button class="btn btn-theme" type="button" id="couponApply">Apply Coupon</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                <hr class="mb-4">
                <div class="title"> <span>Payment</span> </div>
                <div class="d-block my-3">
                    <div class="custom-control custom-radio">
                        <input id="cash-on-delivery" name="paymentMethod" type="radio" class="custom-control-input" checked required value="Cash On Delivery">
                        <label class="custom-control-label" for="cash-on-delivery">Cash On Delivery</label>
                    </div>
                    <div class="custom-control custom-radio">
                        <input id="debit-card" name="paymentMethod" type="radio" class="custom-control-input" required value="Razorpay">
                        <label class="custom-control-label" for="debit-card">Razorpay</label>
                    </div>
                    <div class="custom-control custom-radio">
                        <input id="paypal" name="paymentMethod" type="radio" class="custom-control-input" required value="Wallet">
                        <label class="custom-control-label" for="paypal">Wallet</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        {{!-- <label for="cc-name">Name on card</label>
                        <input type="text" class="form-control" id="cc-name" placeholder="{{user.name}}">
                        <small class="text-muted">Full name as displayed on card</small>
                        <div class="invalid-feedback"> Name on card is required </div> --}}
                    </div>
                    <div class="col-md-6 mb-3">
                        {{!-- <label for="cc-number">Credit card number</label>
                        <input type="text" class="form-control" id="cc-number" placeholder="">
                        <div class="invalid-feedback"> Credit card number is required </div> --}}
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3 mb-3">
                        {{!-- <label for="cc-expiration">Expiration</label>
                        <input type="text" class="form-control" id="cc-expiration" placeholder="">
                        <div class="invalid-feedback"> Expiration date required </div> --}}
                    </div>
                    <div class="col-md-3 mb-3">
                        {{!-- <label for="cc-cvv">CVV</label>
                        <input type="text" class="form-control" id="cc-cvv" placeholder="">
                        <div class="invalid-feedback"> Security code required </div> --}}
                    </div>
                    <div class="col-md-6 mb-3">
                        <div class="payment-icon">
                            <ul>
                                <li><img class="img-fluid" src="/Pictures/images/payment-icon/1.png" alt=""></li>
                                <li><img class="img-fluid" src="/Pictures/images/payment-icon/2.png" alt=""></li>
                                <li><img class="img-fluid" src="/Pictures/images/payment-icon/3.png" alt=""></li>
                                <li><img class="img-fluid" src="/Pictures/images/payment-icon/5.png" alt=""></li>
                                <li><img class="img-fluid" src="/Pictures/images/payment-icon/7.png" alt=""></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <hr class="mb-1">
            </div>
        </div>
        <div class="col-sm-6 col-lg-6 mb-3">
            <div class="row">
                <div class="col-md-12 col-lg-12">
                    <div class="shipping-method-box">
                        <div class="title-left">
                            {{!-- <h3>Shipping Method</h3> --}}
                        </div>
                        <div class="mb-4">
                            {{!-- <div class="custom-control custom-radio">
                                <input id="shippingOption1" name="shipping-option" class="custom-control-input" checked="checked" type="radio">
                                <label class="custom-control-label" for="shippingOption1">Standard Delivery</label> <span class="float-right font-weight-bold">FREE</span> </div>
                            <div class="ml-4 mb-2 small">(3-7 business days)</div>
                            <div class="custom-control custom-radio">
                                <input id="shippingOption2" name="shipping-option" class="custom-control-input" type="radio">
                                <label class="custom-control-label" for="shippingOption2">Express Delivery</label> <span class="float-right font-weight-bold">$10.00</span> </div>
                            <div class="ml-4 mb-2 small">(2-4 business days)</div>
                            <div class="custom-control custom-radio">
                                <input id="shippingOption3" name="shipping-option" class="custom-control-input" type="radio">
                                <label class="custom-control-label" for="shippingOption3">Next Business day</label> <span class="float-right font-weight-bold">$20.00</span> </div> --}}
                        </div>
                    </div>
                </div>
                <div class="col-md-12 col-lg-12">
                    <div class="odr-box">
                        <div class="title-left">
                            <h3>Shopping cart</h3>
                        </div>
                        <div class="rounded p-2 bg-light">
                            <div class="media mb-2 border-bottom">
                                <div class="media-body d-flex justify-content-between align-items-center">
                                    <div>
                                        <a href="detail.html">{{product.name}}</a>
                                        <div class="small text-muted">
                                            Price: ${{product.price}}<span class="mx-2">|</span>Qty: 1<span class="mx-2">|</span>Subtotal: ${{product.price}}
                                        </div>
                                    </div>
                                    <img src="/Pictures/Home_Buy/{{product.image.[0]}}" alt="{{this.product.name}}" style="max-width: 100px; max-height: 100px;">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-12 col-lg-12">
                    <div class="order-box">
                        <div class="title-left">
                            <h3>Your order</h3>
                        </div>
                        <div class="d-flex">
                            <div class="font-weight-bold">Product</div>
                            <div class="ml-auto font-weight-bold">Total</div>
                        </div>
                        <hr class="my-1">
                        <div class="d-flex">
                            <h4>Sub Total</h4>
                            <div class="ml-auto font-weight-bold" id="subtotal">{{total}}</div>
                        </div>
                        <div class="d-flex">
                            <h4>Discount</h4>
                            <div class="ml-auto font-weight-bold" id="discount"></div>
                        </div>
                        <hr class="my-1">
                        <div class="d-flex">
                            <h4>Coupon Discount</h4>
                            <div class="ml-auto font-weight-bold" id="couponDiscount"></div>
                        </div>
                        <div class="d-flex">
                            <h4>Tax</h4>
                            <div class="ml-auto font-weight-bold" id="tax"></div>
                        </div>
                        <div class="d-flex">
                            <h4>Shipping Cost</h4>
                            <div class="ml-auto font-weight-bold">${{shippingCost}}</div>
                        </div>
                        <hr>
                        <div class="d-flex gr-total">
                            <h5>Grand Total</h5>
                            <div class="ml-auto h5" name="grandtotal" id="grandtotal"></div>
                            <input type="hidden" name="gTotal" id="fulltotal" value="grandtotal">
                        </div>
                        <hr> 
                        <input type="hidden" name="productId" value="{{product._id}}">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <button type="submit" class="btn btn-primary hvr-hover">Place Order</button>
</form>

        </div>
    </div>
    <!-- End Cart -->


    <!-- Start Footer  -->
    <footer>
        <div class="footer-main">
            <div class="container">
				<div class="row">
					<div class="col-lg-4 col-md-12 col-sm-12">
						<div class="footer-top-box">
							<h3>Business Time</h3>
							<ul class="list-time">
								<li>Monday - Friday: 08.00am to 05.00pm</li> <li>Saturday: 10.00am to 08.00pm</li> <li>Sunday: <span>Closed</span></li>
							</ul>
						</div>
					</div>
					<div class="col-lg-4 col-md-12 col-sm-12">
						<div class="footer-top-box">
							<h3>Newsletter</h3>
							<form class="newsletter-box">
								<div class="form-group">
									<input class="" type="email" name="Email" placeholder="Email Address*" />
									<i class="fa fa-envelope"></i>
								</div>
								<button class="btn hvr-hover" type="submit">Submit</button>
							</form>
						</div>
					</div>
					<div class="col-lg-4 col-md-12 col-sm-12">
						<div class="footer-top-box">
							<h3>Social Media</h3>
							<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
							<ul>
                                <li><a href="#"><i class="fab fa-facebook" aria-hidden="true"></i></a></li>
                                <li><a href="#"><i class="fab fa-twitter" aria-hidden="true"></i></a></li>
                                <li><a href="#"><i class="fab fa-linkedin" aria-hidden="true"></i></a></li>
                                <li><a href="#"><i class="fab fa-google-plus" aria-hidden="true"></i></a></li>
                                <li><a href="#"><i class="fa fa-rss" aria-hidden="true"></i></a></li>
                                <li><a href="#"><i class="fab fa-pinterest-p" aria-hidden="true"></i></a></li>
                                <li><a href="#"><i class="fab fa-whatsapp" aria-hidden="true"></i></a></li>
                            </ul>
						</div>
					</div>
				</div>
				<hr>
                <div class="row">
                    <div class="col-lg-4 col-md-12 col-sm-12">
                        <div class="footer-widget">
                            <h4>About Freshshop</h4>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p> 
							<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. </p> 							
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-12 col-sm-12">
                        <div class="footer-link">
                            <h4>Information</h4>
                            <ul>
                                <li><a href="#">About Us</a></li>
                                <li><a href="#">Customer Service</a></li>
                                <li><a href="#">Our Sitemap</a></li>
                                <li><a href="#">Terms &amp; Conditions</a></li>
                                <li><a href="#">Privacy Policy</a></li>
                                <li><a href="#">Delivery Information</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-12 col-sm-12">
                        <div class="footer-link-contact">
                            <h4>Contact Us</h4>
                            <ul>
                                <li>
                                    <p><i class="fas fa-map-marker-alt"></i>Address: Michael I. Days 3756 <br>Preston Street Wichita,<br> KS 67213 </p>
                                </li>
                                <li>
                                    <p><i class="fas fa-phone-square"></i>Phone: <a href="tel:+1-888705770">+1-888 705 770</a></p>
                                </li>
                                <li>
                                    <p><i class="fas fa-envelope"></i>Email: <a href="mailto:contactinfo@gmail.com">contactinfo@gmail.com</a></p>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- End Footer  -->

    <!-- Start copyright  -->
    <div class="footer-copyright">
        <p class="footer-company">All Rights Reserved. &copy; 2018 <a href="#">ThewayShop</a> Design By :
            <a href="https://html.design/">html design</a></p>
    </div>
    <!-- End copyright  -->

    <a href="#" id="back-to-top" title="Back to top" style="display: none;">&uarr;</a>

    <!-- ALL JS FILES -->
    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <!-- ALL PLUGINS -->
    <script src="js/jquery.superslides.min.js"></script>
    <script src="js/bootstrap-select.js"></script>
    <script src="js/inewsticker.js"></script>
    <script src="js/bootsnav.js."></script>
    <script src="js/images-loded.min.js"></script>
    <script src="js/isotope.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/baguetteBox.min.js"></script>
    <script src="js/form-validator.min.js"></script>
    <script src="js/contact-form-script.js"></script>
    <script src="js/custom.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


    <script>
        document.addEventListener("DOMContentLoaded", () => {
    const addressRadios = document.querySelectorAll('input[name="selectedAddress"]');

    // Add an event listener to each radio button to listen for the "change" event
    addressRadios.forEach((radio) => {
        radio.addEventListener("change", async (event) => {
            // Get the selected address ID from the radio button
            const selectedAddressId = event.target.value;

            try {
                // Send the selected address ID to the server using a fetch request
                const response = await fetch("/selectAddress", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({ selectedAddress: selectedAddressId }),
                });

                if (response.ok) {
                    console.log("Address selected successfully!");
                } else {
                    console.error("Failed to select address");
                }
            } catch (error) {
                console.error(error.message);
            }
        });
    });

    // Check if there is only one address and select it automatically
    if (addressRadios.length === 1) {
        // Since there's only one radio button, manually trigger the change event to select it
        addressRadios[0].dispatchEvent(new Event('change'));
    }
});

    </script>
    <script>
    const showCouponBtn = document.getElementById("showCouponBtn");
    const couponCard = document.getElementById("couponCard");
    const closeCouponBtn = document.getElementById("closeCouponBtn");

    showCouponBtn.addEventListener("click", (e) => {
        e.preventDefault()
        couponCard.style.display = "block";
    });

    closeCouponBtn.addEventListener("click", (e) => {
        e.preventDefault()
        couponCard.style.display = "none";
    });
</script>
<script>
    // JavaScript to handle the copy button click event
$('.copy-button').click(function (e) {
    
    const couponCode = $(this).data('coupon'); // Get the coupon code from the data attribute
    copyToClipboard(couponCode); // Call the copyToClipboard function with the coupon code
    e.preventDefault()
});

// Function to copy text to the clipboard
function copyToClipboard(text) {
    const dummyInput = document.createElement('input');
    document.body.appendChild(dummyInput);
    dummyInput.value = text;
    dummyInput.select();
    document.execCommand('copy');
    document.body.removeChild(dummyInput);

    // Optionally, you can provide a user feedback message here
    alert('Coupon code copied to clipboard: ' + text);
}
</script>
<script>
    $(document).ready(function()
    {
       const button = document.getElementById('couponApply')
       button.addEventListener('click', function(e)
       {
        e.preventDefault()

        const couponCode = document.getElementById('couponCode').value
        const gtotal = document.getElementById('grandtotal')
        console.log(gtotal)
        const gtotalTrim = gtotal.textContent.trim()
        const grandTotal = parseFloat(gtotalTrim.replace('₹', ''))

        $.ajax({
            url:`/applycoupon/${couponCode}/?grandtotal=${grandTotal}`,
            method:'GET',
            success:(response)=>
            {
                if(response.status)
                {
                   alert("Coupon applied successfully")
                   const toalString = document.getElementById('subtotal').innerText
                   const total = parseFloat(toalString)
                   document.getElementById('couponDiscount').innerText = response.discount + '%';
                   document.getElementById('discount').textContent ='₹'+ response.discountAmount
                   document.getElementById('grandtotal').textContent = '₹' + Math.floor(total - response.discountAmount);
                   document.getElementById('fulltotal').value =  + Math.floor(total - response.discountAmount);
                }
                else
                {
                    alert(response.message)
                }
            },
            error:(err)=>
            {
                if(err.status === 400)
                {
                     alert(err.responseJSON.message)
                }
                else
                {
                    alert('An error occured while applying the coupon')
                }
            }
        })
        
       }) 
    })
</script>
<script>
   const cartTotalString = document.getElementById('subtotal').innerHTML

  cartTotal = parseFloat(cartTotalString)
  const tax = cartTotal * 0.06

  // Calculate the grand total
  const grandTotal = cartTotal + tax;

  // Update the element with the calculated grand total
  document.getElementById('tax').textContent = tax.toFixed(2)
  document.getElementById('grandtotal').textContent = grandTotal.toFixed(2)
  document.getElementById('fulltotal').value = grandTotal.toFixed(2)
</script>
<script>
    $(document).ready(function() {
    document.getElementById('formPart').addEventListener('submit', async function(e) {
        e.preventDefault(); 
        
        
        const form = document.getElementById('formPart');
        const formData = new FormData(form);
        
        const grandTotal = formData.get('gTotal');
        const paymentMethod = formData.get('paymentMethod');
        const ProductId = formData.get("productId")
        
        const discount = parseFloat(document.getElementById('discount').innerHTML);
        const savedPrice = discount - grandTotal;
        
        console.log("paymentMethod:", paymentMethod);
        console.log("grandTotal:", grandTotal);
        
        try {
            const response = await fetch('/checkout', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ paymentMethod, grandTotal, savedPrice, ProductId})
            });

            const data = await response.json()
            console.log(data)
            if(data.error)
            {
                swal.fire({
                    icon:'error',
                    title:'Error',
                    text:data.error
                })
            }
            else
            {
                console.log("data accepted")
                if(data.RazorpayOrder)
                {
                    console.log(data.RazorpayOrder.id)
                    var options = {
                        "key":"rzp_test_5NNlXRJbteyoDN",
                        "amount": data.RazorpayOrder.amount,
                        "currency":data.RazorpayOrder.currency,
                        "name":"GAMPro",
                        "description":"Payment Transaction",
                        "image":"/Pictures/images/payment-icon/7.png",
                        "order_id":data.RazorpayOrder.id,
                        "handler": function (response){
                            verifyPayment(response, data.RazorpayOrder)
                            console.log("response :", response)
                        },
                        "prefill":{
                            "name":"Yadav",
                            "email":"yadavMenon@gmail.com",
                            "contact":"8673456712"
                        },
                        "notes":{
                            "address":"GAMPro Private Limited Kochi"
                        },
                        "theme":{
                            "color":"#3399cc"
                        }
                    }
                    console.log("payment almost done")
                    var rzpl = new Razorpay(options)
                    console.log(rzpl)
                    console.log("error in Razorpay")
                    rzpl.open()
                    
                }
                else if(data.order)
                {
                    swal.fire({
                        icon:'success',
                        title:"Payment Successfull",
                        text:"Your order was successfull"
                    }).then(()=>
                    {
                        setTimeout(()=>
                        {
                            swal.close();
                            window.location.href = `/confirmation`;
                        }, 3000)
                    })
                }
            }
        }
        catch(error)
        {
            console.log(error.message)
        }
    });
});

function verifyPayment(payment, data)
{
    console.log(payment, data)
    console.log("data : ", data)
    fetch('/verifyPayment',{
        method:"POST",
        headers:{
            'Content-Type': 'application/json',
        },
        body:JSON.stringify({
            payment:payment,
            data:data,
        })
    }).then((response)=>response.json())
      .then((verificationResult)=>{
        if(verificationResult.success)
        {
            window.location.href = '/confirmation';
        }
        else{
            console.log('Payment verification failed');
        }
      })
      .catch((error)=>
      {
        console.log(error.message)
      })
}

</script>
<script>
    const dropdown = document.querySelector('.dropdown');
    const button = dropdown.querySelector('.dropdown-button');

    button.addEventListener('click', function () {
        dropdown.classList.toggle('active');
    });
    </script>
</body>

</html>